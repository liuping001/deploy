deploy_info:
  init_host:
    push:
      - src: example/supervisor.ini
        dest: /etc/supervisord.d/supervisor.ini
    init_cmd:
      - "supervisorctl update"

  server1:
    push:
      - src: example/test.py
        dest: /tmp/server_1.py
    init_cmd:
      - "mkdir -p /tmp/server_1_log"
    supervisor_conf: /etc/supervisord.conf

  server2:
    push:
      - src: example/test.py
        dest: /tmp/server_2.py
    init_cmd:
      - "mkdir -p /tmp/server_2_log"
    supervisor_conf: /etc/supervisord.conf

# 安装定时任务
  server3:
    push:
      - src: example/hello.sh
        dest: /tmp/hello.sh
    crontab:
      - {state: install, name: hello, minute: 5, hour: 1, job: /tmp/hello.sh}
